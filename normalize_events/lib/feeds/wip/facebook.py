import json
import requests
import time

event_data = {
    "links": [
        "774511829300622",
        "742381825875435",
        "823946694364948",
        "602996279836366",
        "563872763754899",
        "450765821740566",
        "748542875261615",
        "434941503348972",
        "1608146976087502",
        "1592820524291360",
        "599691666832530",
        "848385145223290",
        "386406478210262",
        "1531579210429686",
        "633872850045479",
        "1558053594434915",
        "249548945243746",
        "337270199814819",
        "1375071836150269",
        "439940256179942",
        "415443111964302",
        "318230478367434",
        "1617165758515561",
        "653764151418737",
        "1575360742720737",
        "378691295648064",
        "1614993632063148",
        "1559334524340932",
        "629604650494701",
        "969414543076304",
        "908360499194560",
        "961915870487214",
        "486019721548370",
        "453549398142956",
        "359085540951270",
        "456723751170593",
        "883912878319076",
        "1627616727467474",
        "701495623309917",
        "450396955110969",
        "789394771156566",
        "404468229735176",
        "759447804151693",
        "800719553336572",
        "436438106531629",
        "1799811593576793",
        "1542362539358016",
        "338533156342822",
        "1624010441156115",
        "1597258083851837",
        "497804043706798",
        "884981611544391",
        "690378841072411",
        "932264066806197",
        "661330333976867",
        "819391244763950",
        "719347611496083",
        "781432388594407",
        "652772684849771",
        "1549274935355858",
        "735184703268878",
        "770671253018677",
        "1509049642667958",
        "1567905460152248",
        "518537248286751",
        "1392137714440374",
        "591269157643111",
        "1433553773604639",
        "907228395984553",
        "857624960939449",
        "672445562866181",
        "1433446516953513",
        "734217293366352",
        "541290622675464",
        "448524081982222",
        "365233466994131",
        "1406308079684045",
        "351863555024216",
        "1414220668881749",
        "404885866347901",
        "928617017150733",
        "827890877241307",
        "717737685000685",
        "1594035080808133",
        "1569713816624169",
        "394071604109036",
        "454331831385278",
        "748104238642765",
        "451507898333258",
        "669424169852405",
        "1548143775460875",
        "805446109539841",
        "1553406001580837",
        "590708611065448",
        "750607118369556",
        "368314530018715",
        "1558208117791728",
        "751826514936884",
        "401171030060105",
        "1387349081586168",
        "626732924126005",
        "360413400817531",
        "1570066459922424",
        "447174438764665",
        "878031678925855",
        "793316587421346",
        "1569518263281318",
        "1386179215028587",
        "618552031611909",
        "1592388421004605",
        "1572907239631415",
        "804125499658117",
        "727448594020727",
        "518630461612814",
        "799339510148531",
        "554166491352694",
        "804930182930114",
        "328295144048432",
        "608184335948283",
        "880065525389568",
        "1416351921990687",
        "655094441262746",
        "818954418159023",
        "1425469067763204",
        "707026662739752",
        "975533219163947",
        "561553233947950",
        "432801276881467",
        "1407056956269504",
        "340872252768218",
        "425264900989015",
        "359138547606932",
        "445797102240012",
        "1630783843807790",
        "349098215299953",
        "157607347765678",
        "1020700571292548",
        "441344209359247",
        "925838420769226",
        "1567721946831666",
        "791149064311105",
        "424040614429880",
        "1557336347867994",
        "1118888174795456",
        "273015166155447",
        "341660942696905",
        "1549515085316062",
        "395464220605243",
        "100331776965205",
        "367329676786011",
        "875208982536126",
        "354566081405767",
        "1566290293638333",
        "1547916605449887",
        "555540994548517",
        "427840194056923",
        "1581521658798698",
        "704382493004239",
        "827348133971230",
        "1014288561917966",
        "1551432898475346",
        "1578272322424377",
        "474214726061055",
        "1551644051778054",
        "667465210026736",
        "815732991797265",
        "686888428094948",
        "1570761649875345",
        "446772968819200",
        "839518466115092",
        "621659237968355",
        "1624070574474190",
        "1411048765860255",
        "749913418461900",
        "1615814291981785",
        "1555859494664805",
        "206645842834110",
        "780647792057729",
        "466590260148746",
        "595391600604978",
        "317141968495249",
        "1041865249162758",
        "1567457070203086",
        "1555372518075355",
        "1610989212445821",
        "351089045100305",
        "950291165011051",
        "1539381146326892",
        "390569954461625",
        "1774502582775034",
        "737023116374022",
        "1559834070932451",
        "1400938953549024",
        "607975719304549",
        "1388732344766796",
        "1643685489186011"
    ]
}

json_data = json.loads(event_data)

with open('data.txt', 'w') as outfile:

  for event_id in json_data['links']:
    search = 'https://graph.facebook.com/v2.3/' + event_id + '?' + \
    'access_token=887758924620553%7CprM_GKQuKLYp43AveZlm1gNAfJU&' + \
    'fields=id%2Cname%2Cdescription%2Cplace%2Cstart_time%2Cticket_uri'
    response = requests.get(search)
  # event_json = json.loads(response.text)
    print response.text

    outfile.write(response.text.encode('ascii','ignore'))

  # search = 'https://graph.facebook.com/v2.3/742381825875435?' + \
  # 'access_token=887758924620553%7CprM_GKQuKLYp43AveZlm1gNAfJU&' + \
  # 'fields=id%2Cname%2Cdescription%2Cplace%2Cstart_time%2Cticket_uri'
  # response = requests.get(search)

  # outfile.write(response.text)

  # outfile.write("test")
